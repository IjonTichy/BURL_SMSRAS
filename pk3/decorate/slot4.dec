actor SamsaraSlotFourPickup: SamsaraSlotPickup replaces Chaingun
{
    States
    {
      IWasDropped:
        TNT1 A 0 A_SpawnItemEx("SamsaraSlotFourDrop", 0,0,0, momx,momy,momz, 0, SXF_ABSOLUTEMOMENTUM)
        stop

      SpawnLoop:      
        "----" A 35 ACS_ExecuteAlways(228, 0, 4)
        loop

      NoGuy:    WEPG D 35 BRIGHT A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop

      Doomguy:  WCGN A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      Chexguy:  MGUC A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      Heretic:  WBLS A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      Wolfguy:  WCHP A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      Hexen:    WCSS A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      Dukeguy:  CHGP A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      Marathon: RIFL A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop

      DoomFull:      PDCH B 35 BRIGHT A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      ChexFull:      PRPZ B 35 BRIGHT A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      HereticFull:   PDRG B 35 BRIGHT A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      WolfFull:      PWCG B 35 BRIGHT A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      HexenFull:     PSST B 35 BRIGHT A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      DukeFull:      PRPR B 35 BRIGHT A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      MarathonFull:  PARF B 35 BRIGHT A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop

      DoomEmpty:     PDCH A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      ChexEmpty:     PRPZ A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      HereticEmpty:  PDRG A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      WolfEmpty:     PWCG A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      HexenEmpty:    PSST A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      DukeEmpty:     PRPR A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop
      MarathonEmpty: PARF A 35 A_ChangeFlag("FLOATBOB", 0)   goto SpawnLoop

      Pickup:
        TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4) & 3) == 1, "PickupSuccess")
        goto PickupFailure
    }
}

actor SamsaraSlotFourDrop: SamsaraSlotFourPickup
{
    States
    {
      Spawn:
        TNT1 A 0
        goto SpawnLoop

      Pickup:
        TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(229, 4, 1) & 1) == 1, "PickupSuccess")
        goto PickupFailure
    }
}

actor SamsaraMinigunReplace: RandomSpawner replaces Minigun
{
    dropitem "SamsaraSlotFourPickup"
}
